"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[28852],{23751:(e,t,l)=>{var n=l(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(l(43693)),o=l(96540),r=l(49054),u=l(25350);class i extends o.Component{constructor(){super(...arguments),(0,a.default)(this,"getGoogleAppKey",(()=>{const e=(0,r.getIn)(window,["location","hostname"])||"in.bookmyshow.com";return u.GOOGLE_APP_KEY_MAP[e]})),(0,a.default)(this,"initSdk",(()=>{const e=this.getGoogleAppKey();l.g.auth2=gapi.auth2.init({client_id:e,scope:u.GOOGLE_PERMISSIONS,cookie_policy:"single_host_origin"}),this.props.googleinitCallback()}))}componentDidMount(){try{const e=this;(0,r.loadScript)(document,"script","google-platform",u.GOOGLE_SIGNIN_API,(function(){gapi.load("auth2",e.initSdk)}))&&e.props.googleinitCallback()}catch(e){}}render(){return null}}t.default=i},25390:(e,t,l)=>{var n=l(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var l=d(t);if(l&&l.has(e))return l.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var r=a?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(n,o,r):n[o]=e[o]}return n.default=e,l&&l.set(e,n),n}(l(96540)),o=l(5556),r=l(15637),u=n(l(54003)),i=l(25350),c=l(49054);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(d=function(e){return e?l:t})(e)}const s=e=>{let{message:t="",subMessage:l="",close:n=()=>null,deviceExhaustedAnalytics:o=()=>null}=e;const d=(0,c.isDeviceTypeMobile)();return(0,a.useEffect)((()=>{o()}),[]),a.default.createElement(a.Fragment,null,d?a.default.createElement(r.Overlay,{onClick:n}):null,a.default.createElement(r.DeviceExhaustedWrapper,null,d?null:a.default.createElement(r.CloseIcon,{onClick:n},a.default.createElement(u.default,null)),a.default.createElement(r.ExhaustedImage,{src:`${i.QUICK_BOOK_ICONS_CDN}deviceexhausted.png`}),a.default.createElement(r.ExhaustedText,null,t),a.default.createElement(r.ExhaustedSubText,{dangerouslySetInnerHTML:{__html:l}})))};s.propTypes={message:o.string,subMessage:o.string,close:o.func,deviceExhaustedAnalytics:o.func},t.default=s},38101:(e,t,l)=>{var n=l(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(l(96540)),o=n(l(5556)),r=l(15637);const u=e=>{let{api:t="",isPinkified:l=!0,justify:n="",message:o="",statusCode:u=0,requestOtpClick:i=()=>null}=e;return a.default.createElement(r.BottomMessageWrap,{justify:n},(429===u||419===u||410===u)&&a.default.createElement(r.BottomMessageText,{type:"cta",isPinkified:l,onClick:()=>i()},"Request new OTP"))};u.propTypes={api:o.default.string,justify:o.default.string,message:o.default.string,statusCode:o.default.number,requestOtpClick:o.default.func,isPinkified:o.default.bool},t.default=u},39673:(e,t,l)=>{var n=l(24994);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useOnline",{enumerable:!0,get:function(){return a.default}});var a=n(l(43613))},43613:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(96540),a=l(49054);t.default=()=>{const[e,t]=(0,n.useState)(!0),[l,o]=(0,n.useState)("");(0,n.useEffect)((()=>(window.addEventListener("online",r,!(0,a.supportsPassive)()||{passive:!0,capture:!0}),window.addEventListener("offline",r,!(0,a.supportsPassive)()||{passive:!0,capture:!0}),()=>{window.removeEventListener("online",r,!(0,a.supportsPassive)()||{passive:!0,capture:!0}),window.removeEventListener("offline",r,!(0,a.supportsPassive)()||{passive:!0,capture:!0})})),[]);const r=e=>{const l="online"===e.type;t(l),o(l?"":"Please check your internet connection and try again.")};return{isOnline:e,onlineErrorMessage:l}}},51212:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(96540),a=l(49054),o=l(25350);class r extends n.Component{getFacebookAppKey(){const e=(0,a.getIn)(window,["location","hostname"])||"in.bookmyshow.com";return o.FACEBOOK_APP_KEY_MAP[e]}componentDidMount(){const e=this.getFacebookAppKey();try{if((0,a.loadScript)(document,"script","facebook-jssdk",o.FACEBOOK_SIGNIN_API))FB.AppEvents.logPageView(),this.props.facebookinitCallback();else{const t=this;l.g.fbAsyncInit=function(){const l=document.createElement("div");l.id="fb-root",document.body.appendChild(l),FB.init({appId:e,xfbml:!0,cookie:!0,version:o.FACEBOOK_GRAPH_API_VERSION,status:!0}),FB.AppEvents.logPageView(),t.props.facebookinitCallback()}}}catch(t){}}render(){return null}}t.default=r},53897:(e,t,l)=>{var n=l(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(l(5556)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var l=E(t);if(l&&l.has(e))return l.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var r=a?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(n,o,r):n[o]=e[o]}return n.default=e,l&&l.set(e,n),n}(l(96540)),r=n(l(73471)),u=n(l(54003)),i=n(l(25390)),c=l(15637),d=l(49054),s=l(56808),f=n(l(97945)),p=n(l(66023)),m=n(l(32689)),g=l(25350);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(E=function(e){return e?l:t})(e)}const v=e=>{let{vh:t=0,isMobile:l=!0,inputString:n="",showClose:a=!0,notShowCloseForActivate:E=!1,isClickable:v=!1,deviceExhaustedError:b={},closeDeviceExhaustModal:h=()=>null,onInputChange:C=()=>null,loginCloseClick:k=()=>null,onLoginButtonClick:y=()=>null,onEmailLoginClick:_=()=>null,onGoogleSocialLoginClick:O=()=>null,onAppleLoginClick:S=()=>null,onFacebookSocialLoginClick:M=()=>null,onMobileNumberFocusAnalytics:I=()=>null,deviceExhaustedAnalytics:w=()=>null,showAppleLogin:L=!0,showBack:P=!1,showSkip:A=!1,loginTitle:W="",loginSkipClick:B=()=>null,loginBackClick:x=()=>null,isFacebookLoginVisible:F=!1,isGoogleLoginVisible:D=!0,isAppleLoginVisible:j=!0,appConfig:T={},accountKitOpened:R=!1,country:N="",hideEmailLogin:G=!1,hideFlag:K=!1}=e;const[H,q]=(0,o.useState)(!1),[U,V]=(0,o.useState)(!(F||D||j)),Y=(0,d.getCountryCode)(N),[$,Q]=(0,o.useState)(!1),[z,X]=(0,o.useState)(""),[J,Z]=(0,o.useState)(!0),ee=T?(0,d.getIn)(T,["login","isEmailLoginAllowed"])||!0:G,te=T&&(0,d.getIn)(T,["login","isTermsAndConditionClickAllowed"])||!0,le=T&&(0,d.getIn)(T,["login","isPrivacyPolicyClickAllowed"])||!0,{errMessage:ne="",subErrMessage:ae=""}=b||{};(0,o.useEffect)((()=>(q((0,d.isLoginScreen)()),window.addEventListener("online",oe,!(0,d.supportsPassive)()||{passive:!0,capture:!0}),window.addEventListener("offline",oe,!(0,d.supportsPassive)()||{passive:!0,capture:!0}),()=>{window.removeEventListener("online",oe,!(0,d.supportsPassive)()||{passive:!0,capture:!0}),window.removeEventListener("offline",oe,!(0,d.supportsPassive)()||{passive:!0,capture:!0})})),[]);const oe=e=>{const t="online"===e.type;Z(t)},re=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];X(arguments.length>1&&void 0!==arguments[1]?arguments[1]:""),Q(e)},ue=()=>!(!U&&!n.length),ie=()=>{let e=0;return D&&(e+=68),L&&j&&(e+=68),e?e+22:e};return o.default.createElement(c.ModalWrapper,{accountKitOpened:R,vh:t},$?o.default.createElement(s.SpinnerWrapper,{vh:t,error:!!z},o.default.createElement(r.default,null)):o.default.createElement(o.Fragment,null,o.default.createElement(c.LoginModalHeader,{boxShadow:!0},l&&ue()?o.default.createElement(c.ModalHeaderIcon,null,o.default.createElement(c.HeaderIcon,{onClick:()=>C("")},o.default.createElement(f.default,null))):null,P&&!ue()?o.default.createElement(c.ModalHeaderIcon,{id:"backButton"},o.default.createElement(c.HeaderIcon,{onClick:x},o.default.createElement(f.default,null))):null,o.default.createElement(c.ModalHeaderTitle,null,W||"Get Started"),l&&ue()||!a||E||A?o.default.createElement(c.ModalHeaderIcon,null):o.default.createElement(c.ModalHeaderIcon,null,o.default.createElement(c.HeaderIcon,{hideIcon:H,onClick:()=>k()},o.default.createElement(u.default,null))),A?o.default.createElement(c.SkipButton,{id:"skipButton",onClick:B},"Skip"):null),o.default.createElement(c.ModalContent,{vh:t},o.default.createElement(c.MobileOnlyAnimationWrapper,{maxHeight:ie(),show:ue()},o.default.createElement(c.SocialLinksWrapper,null,o.default.createElement(c.SocialLinks,null,!1,D&&o.default.createElement(c.SocialLink,null,o.default.createElement(c.SocialButtonWrap,{onClick:()=>O(re,X)},o.default.createElement(c.ButttonWrap,null,o.default.createElement(c.SocialLoginIconWrap,null,o.default.createElement(c.SocialLoginIcon,null,o.default.createElement("img",{alt:"google logo",src:`${g.QUICK_BOOK_ICONS_CDN}googlelogo.svg`}))),"Continue with Google"))),ee&&(!l||!ue())&&o.default.createElement(c.SocialLink,null,o.default.createElement(c.SocialButtonWrap,{onClick:_},o.default.createElement(c.ButttonWrap,null,o.default.createElement(c.SocialLoginIconWrap,null,o.default.createElement(c.SocialLoginIcon,null,o.default.createElement("img",{alt:"email logo",src:`${g.QUICK_BOOK_ICONS_CDN}email.svg`}))),"Continue with Email"))),L&&j&&o.default.createElement(c.SocialLink,null,o.default.createElement(c.SocialButtonWrap,{onClick:()=>S(re,X)},o.default.createElement(c.ButttonWrap,null,o.default.createElement(c.SocialLoginIconWrap,null,o.default.createElement(c.SocialLoginIcon,null,o.default.createElement(m.default,null))),"Continue with Apple"))))),ie()>0&&o.default.createElement(c.MobileNumberTextWrapper,null,o.default.createElement(s.Typography,{fontSize:"14",color:p.default.DIMGRAY},"OR"))),o.default.createElement(c.StyledForm,{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),v&&J&&y(e,re)}},o.default.createElement(c.StyledFormContainer,null,o.default.createElement(c.MobileNumberWrapper,null,o.default.createElement(c.CountryFlagWrapper,null,!K&&o.default.createElement("img",{alt:"indian flag",src:`${g.QUICK_BOOK_ICONS_CDN}indianflag.svg`})),o.default.createElement(c.CountryCodeWrapper,null,Y),o.default.createElement(c.MobileNumberFieldWrapper,null,o.default.createElement(c.FormInputGroup,{isMobileOnlyLabel:!0,marginTop:ue()||0===ie()?"26px":"0px"},o.default.createElement(c.FormInput,{autoFocus:U,shiftLeftDueToIcon:"-56px",isMobileOnlyLabel:!0,id:"mobileNo",type:"tel",pattern:"[0-9]*",value:n||"",placeholder:"Continue with mobile number",onChange:e=>{const t=e.target.value||"";/^\d*$/.test(t)&&t.length<11&&(C(t),X(""))},onFocus:()=>{document.body.scrollTop=0,V(!0),I()},onBlur:()=>V(!1)}),o.default.createElement(c.FormLabel,{htmlFor:"mobileNo",shiftLeftDueToIcon:"-56px"},"Continue with mobile number")))),z&&o.default.createElement(s.Message,null,z)),ue()?o.default.createElement(c.LoginBottomWrapper,null,o.default.createElement(c.LoginSubmitButton,{isClickable:v&&J},"Continue")):o.default.createElement(c.LoginBottomWrapper,null,o.default.createElement(c.TermsAndConditions,null,"I agree to the"," ",o.default.createElement(c.AnchorText,{showUnderline:!0,disabled:!te,href:"/terms-and-conditions",target:"_blank",color:"DIMGRAY"},"Terms & Conditions")," ","&"," ",o.default.createElement(c.AnchorText,{showUnderline:!0,disabled:!le,href:"/privacy",target:"_blank",color:"DIMGRAY"},"Privacy Policy")))))),ne&&ae?o.default.createElement(i.default,{message:ne,subMessage:ae,close:h,deviceExhaustedAnalytics:w}):null)};v.propTypes={vh:a.default.number.isRequired,isMobile:a.default.bool.isRequired,inputString:a.default.string,showClose:a.default.bool.isRequired,notShowCloseForActivate:a.default.bool.isRequired,isClickable:a.default.bool.isRequired,deviceExhaustedError:a.default.object.isRequired,closeDeviceExhaustModal:a.default.func.isRequired,onInputChange:a.default.func.isRequired,loginCloseClick:a.default.func,onLoginButtonClick:a.default.func.isRequired,onEmailLoginClick:a.default.func.isRequired,onGoogleSocialLoginClick:a.default.func.isRequired,onFacebookSocialLoginClick:a.default.func.isRequired,onMobileNumberFocusAnalytics:a.default.func,deviceExhaustedAnalytics:a.default.func,showAppleLogin:a.default.bool,showBack:a.default.bool,showSkip:a.default.bool,loginTitle:a.default.string,loginSkipClick:a.default.func,loginBackClick:a.default.func,country:a.default.string,hideEmailLogin:a.default.bool,hideFlag:a.default.bool},t.default=v},80977:(e,t,l)=>{var n=l(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var l=m(t);if(l&&l.has(e))return l.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var r=a?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(n,o,r):n[o]=e[o]}return n.default=e,l&&l.set(e,n),n}(l(96540)),o=n(l(73471)),r=n(l(97945)),u=l(15637),i=l(56808),c=l(39673),d=l(25350),s=n(l(35243)),f=n(l(83324)),p=n(l(66023));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(m=function(e){return e?l:t})(e)}t.default=e=>{const t=(0,a.useRef)(null),{isOnline:l,onlineErrorMessage:n}=(0,c.useOnline)(),[m,g]=(0,a.useState)(!1),E=(0,a.useRef)(null),[v,b]=(0,a.useState)(!1),h=document.getElementById("emailId"),[C,k]=(0,a.useState)({text:"",error:!1});(0,a.useEffect)((()=>{k({text:n,error:!0})}),[n]),(0,a.useEffect)((()=>{E.current.focus()}));const y=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];k(arguments.length>1?arguments[1]:void 0),g(e)},_=l=>{t&&t.current&&clearTimeout(t.current),t.current=setTimeout((()=>{const l=h.value.length>0&&!d.EMAIL_REGEX.test(h.value);e.onInputChange(h.value||""),b(l),t.current=null}),750),b(!1)},O=()=>{""!==h.value&&(h.value="",h.focus(),b(!1))},S=t=>{const{inputString:l,onContinueClick:n}=e;t.preventDefault(),l.length>0&&n(t,y)};return a.default.createElement(u.ModalWrapper,{vh:e.vh},m?a.default.createElement(i.SpinnerWrapper,{vh:e.vh,error:!(!C||!C.text)},a.default.createElement(o.default,null)):a.default.createElement(a.Fragment,null,a.default.createElement(u.LoginModalHeader,null,a.default.createElement(u.ModalHeaderIcon,null,a.default.createElement(u.HeaderIcon,{onClick:()=>e.onBackClick()},a.default.createElement(r.default,null))),a.default.createElement(u.ModalHeaderIcon,null)),a.default.createElement(u.ModalContent,{vh:e.vh},(()=>{const{inputString:t,isClickable:n}=e;return a.default.createElement(u.StyledForm,{onSubmit:S},a.default.createElement(u.StyledFormContainer,null,a.default.createElement(u.Title,null,"Login with Email"),a.default.createElement(u.EmailLabel,{htmlFor:"emailId"},"Email"),a.default.createElement(u.EmailInputWrapper,{errorMessage:v},a.default.createElement(u.EmailForm,{id:"emailId",type:"text",ref:E,defaultValue:t,onChange:_}),v&&a.default.createElement(u.CrossIconWrapper,{onClick:O},a.default.createElement(s.default,null))),v&&a.default.createElement(u.ErrorMessageWrapper,null,a.default.createElement(u.AlertIconWrapper,null,a.default.createElement(f.default,null)),a.default.createElement(u.InputErrorText,{id:"Error message",color:p.default.COLDRED},"Invalid Email"))),a.default.createElement(u.LoginBottomWrapper,null,a.default.createElement(u.LoginSubmitButton,{isClickable:l&&n()},"Continue")))})())))}}}]);